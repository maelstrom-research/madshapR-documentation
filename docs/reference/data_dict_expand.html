<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Transform single-row category information to multiple rows as element — data_dict_expand • madshapR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Transform single-row category information to multiple rows as element — data_dict_expand"><meta property="og:description" content="Expands data dictionary column(s) in a element (the parameter 'from'),
into another element (the parameter 'to').
If the element from contains any column starting with 'prefix', (xx,yy),
these columns will be added as 'xx' and 'yy' in the element identified by
to. This data frame will be created if necessary, and columns will be
added, from left to right. (unique names will be generated if necessary).
Separator of each element is the following structure :
'name = xx1 ; name = xx2'.
This function is mainly used to expand the column(s) 'Categories::xx' in
&quot;Variables&quot; to &quot;Categories&quot; element with column(s) xx.
This function is the reversed operation of data_dict_collapse()"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">madshapR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/madshapR-vignette.html">madshapR-vignette</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/maelstrom-research/madshapR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transform single-row category information to multiple rows as element</h1>
    <small class="dont-index">Source: <a href="https://github.com/maelstrom-research/madshapR/blob/HEAD/R/02-dictionaries_functions.R" class="external-link"><code>R/02-dictionaries_functions.R</code></a></small>
    <div class="hidden name"><code>data_dict_expand.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Expands data dictionary column(s) in a element (the parameter 'from'),
into another element (the parameter 'to').
If the element <code>from</code> contains any column starting with 'prefix', (xx,yy),
these columns will be added as 'xx' and 'yy' in the element identified by
<code>to</code>. This data frame will be created if necessary, and columns will be
added, from left to right. (unique names will be generated if necessary).
Separator of each element is the following structure :
'name = xx1 ; name = xx2'.
This function is mainly used to expand the column(s) 'Categories::xx' in
"Variables" to "Categories" element with column(s) xx.
This function is the reversed operation of <code><a href="data_dict_collapse.html">data_dict_collapse()</a></code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">data_dict_expand</span><span class="op">(</span></span>
<span>  <span class="va">data_dict</span>,</span>
<span>  from <span class="op">=</span> <span class="st">"Variables"</span>,</span>
<span>  name_prefix <span class="op">=</span> <span class="st">"Categories::"</span>,</span>
<span>  to <span class="op">=</span> <span class="st">"Categories"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data_dict</dt>
<dd><p>A list of data frame(s) representing metadata to be
transformed.</p></dd>


<dt>from</dt>
<dd><p>A symbol identifying the name of the element (data frame) to take
column(s) from. Default is 'Variables'.</p></dd>


<dt>name_prefix</dt>
<dd><p>Character string of the prefix of columns of interest.
This prefix will be used to select columns, and to rename them in the 'to'
element. Default is 'Categories::'.</p></dd>


<dt>to</dt>
<dd><p>A symbol identifying the name of the element (data frame) to create
column(s) to. Default is 'Categories'.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of data frame(s) identifying a data dictionary.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="data_dict_collapse.html">data_dict_collapse()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use madshapR_examples provided by the package</span></span></span>
<span class="r-in"><span><span class="va">data_dict_collapsed</span> <span class="op">&lt;-</span> <span class="va">madshapR_examples</span><span class="op">$</span><span class="va">`data_dictionary_example - collapsed`</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">data_dict_expanded</span> <span class="op">&lt;-</span> <span class="fu">data_dict_expand</span><span class="op">(</span><span class="va">data_dict_collapsed</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="fu">data_dict_expand</span><span class="op">(</span><span class="va">data_dict_expanded</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Your data dictionary contains no column starting with 'Categories::' in Variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Variables : tibble [9 × 8] (S3: tbl_df/tbl/data.frame)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ index                : num [1:9] 1 2 3 4 5 6 7 8 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ name                 : chr [1:9] "part_id" "gndr" "height" "weight_ms" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ label:en             : chr [1:9] "id of the participant" "gndr" "height" "weight_ms" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ description:en       : chr [1:9] "id of the participant" "gender of the participant" "height of the participant" "weight of the participant - measured" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ valueType            : chr [1:9] "text" "integer" "integer" "integer" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ unit                 : chr [1:9] NA NA "cm" "kg" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ datacollection::type : chr [1:9] "automatic" "declared" "declared" "measured" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ datacollection::level: chr [1:9] "high" "high" "moderate" "moderate" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ Categories: tibble [11 × 4] (S3: tbl_df/tbl/data.frame)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ variable: chr [1:11] "gndr" "gndr" "gndr" "weight_ms" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ name    : chr [1:11] "1" "2" "-77" "-88" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ label:en: chr [1:11] "Male" "Female" "Don't want to answer" "Don't want to answer" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ missing : chr [1:11] "FALSE" "FALSE" "TRUE" "TRUE" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "madshapR::class")= chr "data_dict_structure"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Guillaume Fabre, Maelstrom Research.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

